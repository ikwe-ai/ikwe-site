/* ========================================================
   IKWE SCORECARD — CSS HOTFIX
   
   Drop this into the <style> block of proof.html (or any page
   with the current scorecard table) to fix:
   1. Badge text clipping / overlapping columns
   2. Delta values running off the right edge
   3. Table exceeding container width
   
   This is a TEMPORARY fix. Replace with the canonical
   scorecard component when ready.
   ======================================================== */

/* Force the table to respect container bounds */
.scorecard-table,
.risk-scorecard table,
table[class*="scorecard"] {
  width: 100% !important;
  table-layout: fixed !important;
  border-collapse: separate;
  border-spacing: 0;
}

/* Wrap the table in a scrollable container on small screens */
.scorecard-wrapper,
.scorecard-container {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Fix column proportions — give bar+badge cells more room */
.scorecard-table th:nth-child(1),
.scorecard-table td:nth-child(1) { width: 26%; }

.scorecard-table th:nth-child(2),
.scorecard-table td:nth-child(2) { width: 30%; }

.scorecard-table th:nth-child(3),
.scorecard-table td:nth-child(3) { width: 30%; }

.scorecard-table th:nth-child(4),
.scorecard-table td:nth-child(4) { width: 14%; text-align: right; }

/* Prevent badge pills from wrapping or overflowing */
.badge,
.status-badge,
[class*="badge"] {
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  max-width: 70px;
  display: inline-flex !important;
  flex-shrink: 0 !important;
  font-size: 10px !important;
  padding: 2px 8px !important;
}

/* Fix bar + score + badge layout within cells */
.bar-cell,
.bar-group,
[class*="bar-cell"] {
  display: flex !important;
  align-items: center !important;
  gap: 6px !important;
  flex-wrap: nowrap !important;
  overflow: hidden;
}

/* Constrain bar track width */
.bar-track,
.bar-rail,
[class*="bar-track"] {
  max-width: 90px !important;
  min-width: 30px !important;
  flex: 1 1 auto !important;
}

/* Prevent score numbers from wrapping */
.bar-score,
.score-value {
  flex-shrink: 0 !important;
  min-width: 20px !important;
  text-align: right;
  font-size: 13px !important;
}

/* Fix delta column overflow */
.delta-cell,
td:last-child {
  white-space: nowrap !important;
  font-size: 13px !important;
}

/* Ensure dimension labels don't wrap awkwardly */
.dim-label,
.dimension-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Mobile: allow horizontal scroll instead of clipping */
@media (max-width: 768px) {
  .scorecard-table th:nth-child(1),
  .scorecard-table td:nth-child(1) { width: 160px; min-width: 160px; }
  
  .scorecard-table th:nth-child(2),
  .scorecard-table td:nth-child(2) { width: 200px; min-width: 200px; }
  
  .scorecard-table th:nth-child(3),
  .scorecard-table td:nth-child(3) { width: 200px; min-width: 200px; }
  
  .scorecard-table th:nth-child(4),
  .scorecard-table td:nth-child(4) { width: 80px; min-width: 80px; }
}
